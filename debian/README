Debian ramdisk builder
----------------------

This directory contains an auto-build system for making initrd images.
There is nothing particularly Orange PI Zero specific about the created
ramdisk image, it should work on any system supported by the Debian
armhf architecture.

It currently only creates a very minimal system (the config file
multistrap.conf contains the list of repositories and additional packages
to install)

It also does not yet produce a bootable disk image, just the ramdisk and
the /boot dir.

Usage:

    make build-depends          # install needed build packages

    make debian                 # build a Debian armhf chroot in build/debian
    make build/boot/uInitrd     # build the u-boot initrd
    make boot                   # build a full /boot dir in build/boot

You just need to run the one of the last three that generates the output
you want to use as the dependancies between these three targets are
all working - so that asking for the "boot" target will automatically
generate the uInitrd and the debian base install" as needed.

To test the ramdisk image (build/boot/uInitrd), first create a bootable
armbian sdcard.  Mount this card and overwrite the boot/uInitrd file
with the one built above.

To test the boot dir, first create a bootable armbian sdcard.  Mount this
card and remove the boot dir from it, copy the build/boot dir onto
the card.


Using the ramdisk
-----------------

You will need a serial console to log in, but if the ethernet port is
plugged into a network, it should autoconfigure an IP address which can
be pinged.

NOTE: uncompressing the (currently approximately 120Meg uncompressed) initrd
will take a noticable amount of time.  The network will not be setup until
that has been done, so nothing will happen for a while.  For some reason, this
also applies to the kernel messages.

Tests on one orange pi zero show that the time from power on until a login
prompt on the serial console is about 1 minute.

